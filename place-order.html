<link href="css/new-navbar.css" rel="stylesheet" type="text/css">
<link href="css/readMore.css" rel="stylesheet" type="text/css">
<link href="css/resources.css" rel="stylesheet" type="text/css">
<link href="css/events.css" rel="stylesheet" type="text/css">
<link href="css/slick-theme.css" rel="stylesheet" type="text/css">
<link href="css/mmc-wl.css" rel="stylesheet" type="text/css">


<style>
	.modal-dialog {
		top: 5% !important;
	}
</style>


<script>
$(document).ready(function(){
    $(this).scrollTop(0);
});
ga('set', 'page', '/place-order.html');
ga('send', 'pageview');
var skuItems = [];	
	

var products = JSON.parse(localStorage.getItem('product_data'));
var testDiv = document.getElementById("test");
$(document).ready(function () {printList();});


</script>

<div class="modal fade" id="submit-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
<div class="row">
	<div class="input-field col-lg-6"><input id="full_name" type="text" name="name"><label for="name">Full Name</label></div>
	<div class="input-field col-lg-5">
		<input id="email" name="email" type="email" class="validate">
          <label for="email">Email</label></div><br>
</div><br><br>
<center>
	<button id="submitEmail">Submit for Review</button>
</center>
      </div>
    </div>
  </div>
</div>

<div style="padding-top: 110px;" class="row midContent">
<a href="#/product-configurator">&larr; Return to Product Configurator</a>
<div id="test" class=""></div>
<i class="fas fa-sync"></i>
</div>
<div id="container">
  <a id="update" class="btn btn-elegant btn-lg waves-effect waves-light"><i class="fas fa-sync mr-1"></i>Update Order</a>
  <a id="generate" class="btn btn-elegant btn-lg waves-effect waves-light">Generate</a>
  <a data-toggle="modal" data-target="#submit-modal" data-dismiss="modal" class="btn btn-elegant btn-lg waves-effect waves-light">Submit for review</a>

<script>
var genButton = document.getElementById("generate");
var trashButton = document.getElementsByClassName("trash");




	
	
for (var i = 0; i < trashButton.length; i++) {
	trashButton[i].addEventListener('click', trashFunction, false);
}	
	


	
$(document).on("click", "#update", function () {
var el = $("input[name='quantity0']").val();
for (var i = 0; i < products.length; i++) {
	products[i].quantity = $("input[name='quantity" + i +"']").val();
}
localStorage.setItem('product_data', JSON.stringify(products));
});
	
genButton.addEventListener('click', event => {
var p1 = {"sku":"095-1001","product":"Moda Mini Cove Interior Standard Output Silver 0-10V Dimming 1800K HCRI 1FT","img":"images/all-products/MMCGI V2 white light.png ","quantity":1};
var p2 = {"sku":"096-3000","product":"Moda Mini Cove Interior Standard Output Silver 0-10V Dimming Red 4FT ","img":"images/all-products/MMCGI V2 Static Color.png ","quantity":1};
var p3 = {"sku":"106-1201","product":"Moda Mini Cove Interior Standard Output Silver DMX 512 Dynamic Warm HCRI 1FT","img":"images/all-products/MMCGI V2 Dynamic White.png ","quantity":1};
products.push(p1);products.push(p2);products.push(p3);
localStorage.setItem('product_data', JSON.stringify(products));
printList();
});
	
$(document).click(function(event) {
var el = test();
var target = $(event.target);	
if (!target.is("nav li a")) {
    if(!$(event.target).closest('#' + el).length) {
         if($('#' + el).is(":visible")) {
            $('#' + el).hide();
		 	$('#' + el).style.visibility = "hidden";
        }
    }  
}
});

function printList() {
testDiv.innerHTML = "";
console.log("printing list");
for (var i = 0; i < products.length; i++) {
	testDiv.innerHTML += ("<div class='col-lg-8'><div style='display:inline-block;'><img style='width:200px;' src='" + products[i].img + "'></div><div style='display:inline-block;max-width:350px;'><h4>"+ products[i].product +"</h4><p>"+ products[i].sku +"</p></div></div><div class='col-lg-4'><input style='max-width:30px;' type='number' name='quantity"+ i  +"' min='1' max='160' value='"+ products[i].quantity +"'><br><button id='trash' class='trash' value='"+ i +"'>Trash</button></div>");
}
}
</script>
<script src="js/place-order.js"></script>
<script src="js/logo.js"></script>
